(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[286],{2486:function(e,t,a){"use strict";a.r(t);var l=a(7757),n=a.n(l),s=(a(5666),a(2137)),r=a(7294),c=a(28),i=a(9955),o=a(2967),u=a(6119),d=a(3751),g=a(1773),E=a(4946);t.default=function(e){var t=e.locale,a=e.slug,l=e.data,p=(0,r.useState)(null),m=p[0],f=p[1],v=(0,r.useState)(null),w=v[0],S=v[1],h=(0,E.Z)(),P=h[0],_=h[1],b=(0,g.useLocation)(),T=new URLSearchParams(b.search).get("secret"),C=l.site.siteMetadata.languages,R=C.locales,Z=C.defaultLocale,k=l.strapiGlobal,x=m&&Object.assign({},m.metadata,{metaTitle:"Preview "+m.metadata.metaTitle});return P.strapiPreview!=={}.GATSBY_PREVIEW_SECRET&&T==={}.GATSBY_PREVIEW_SECRET&&_("strapiPreview",{}.GATSBY_PREVIEW_SECRET,{path:"/",secure:"production",sameSite:"Strict"}),(0,r.useEffect)((function(){(function(){var e=(0,s.Z)(n().mark((function e(){var l,s,r,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.I)("/pages?_locale="+t+"&slug="+a);case 2:l=e.sent,s=l[0],f(s),r={slug:s.slug,id:s.id,locale:s.locale,localizations:s.localizations,locales:R,defaultLocale:Z,isPreview:!0},o=(0,i.getLocalizedPaths)(r),S(Object.assign({},r,{localizedPaths:o}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,R,Z,t]),w&&k?P.strapiPreview?r.createElement(r.Fragment,null,r.createElement(d.Z,{seo:x,locale:w.locale,global:k}),r.createElement(u.Z,{pageContext:w,global:k},m&&r.createElement("div",null,r.createElement(o.Z,{sections:m.contentSections})))):r.createElement(u.Z,{pageContext:w,global:k},r.createElement("div",{className:"mt-4 text-center"},"You need to turn preview mode on to view this page")):r.createElement("div",null,"loading preview...")}}}]);
//# sourceMappingURL=component---src-templates-preview-js-5b8ea9eed85da6feb430.js.map